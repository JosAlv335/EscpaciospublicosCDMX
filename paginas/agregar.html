<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Agregar elemento</title>
    <link href='https://unpkg.com/css.gg@2.0.0/icons/css/search.css' rel='stylesheet'>
    <link rel="stylesheet" href="../assets/css/agregar.css">
</head>
<body>
    <header>
        <h1>Agregar Registro</h1>
    </header>
    <main>
        <div id="mensaje"></div> <!-- Para mostrar mensajes de éxito o error -->

        <form id="addForm">
            <div class="form-group" id="CP-Tipo">
                <div class="_CP">
                    <label for="codigoPostal">Código Postal:</label>
                    <input type="text" id="codigoPostal" name="codigoPostal" maxlength="5" required>
                    <button type="srchCP" id="srchCP" name="srchCP"><i class="gg-search"></i>Buscar código postal</button>
                </div>
                <div class="tipo-espacio">
                    <label for="tipo-espacio">Tipo de espacio:</label>
                    <select id="tipo-espacio" name="tipo-espacio" required>
                        <option value="" selected disabled>Selecciona un tipo de espacio...</option>
                        <option value="Parque">Parque</option>
                        <option value="Deportivo">Deportivo</option>
                    </select>
                </div>
                
                
            </div>

            <div class="form-group" id = "estado-municipio">
                
                <div class = "estado">
                    <label for="estado">Estado:</label>
                    <select id="estado" name="estado" required>
                        <option value="" selected disabled>Selecciona un estado</option>
                    </select>
                </div>
                <div class = "municipio">
                    <label for="ciudad_municipio">Ciudad/Municipio:</label>
                    <select id="ciudad_municipio" name="ciudad_municipio" required>
                        <option value="" selected disabled>Selecciona una ciudad/municipio</option>
                    </select>
                </div>

            </div>

            <div class="form-group" id = "asentamiento-calle">

                <div class="asentamiento">
                    <label for="asentamiento">Asentamiento:</label>
                    <select id="asentamiento" name="asentamiento" required>
                        <option value="" selected disabled>Selecciona un asentamiento</option>
                    </select>
                </div>
                <div class="calle">
                    <label for="calle">Calle:</label>
                    <input type="text" id="calle" name="calle" required>
                </div>

            </div>

            <diV class="form-group" id = "entreCalles-Nums">

                <label for="campo-entre-calles">Entre Calles:</label>
                <div class="entre-calles" name="campo-entre-calles">
                    <label for="entCalles1">Calle 1:</label>
                    <input type="text" id="entCalles1" name="entCalles1">
                    <label for="entCalles2">Calle 2:</label>
                    <input type="text" id="entCalles2" name="entCalles2">
                </div>
                <div class="numExt">
                    <label for="numExt">Num. Ext.:</label>
                    <input type="text" id="numExt" name="numExt">
                </div>
                <div class="numInt">
                    <label for="numInt">Num Int.:</label>
                    <input type="text" id="numInt" name="numInt">
                </div>

            </diV>

            <div class="form-group" id="horarios">

                <div class="horario-inicio">
                    <label for="horario-inicio">Hora de apertura:</label>
                    <input type="time" id="horario-inicio" name="horario-inicio">
                </div>
                <div class="horario-fin">
                    <label for="horario-fin">Hora de cierre:</label>
                    <input type="time" id="horario-fin" name="horario-fin">
                </div>

            </div>


            <div class="form-group">
                <label for="nombre">Nombre:</label>
                <input type="text" id="nombre" name="nombre" required>
            </div>
            <label for="coordinates">Coordenadas:</label>
            <div class="form-group" id="coordinates" name="coordinates">
                <div id="DecimalLatitud">
                    <label for="LatitudDecimalInput">Latitud</label>
                    <input type="text" id="PSpace-LatitudX" name="LatitudDecimalInput" placeholder="Latitud...">
                </div>
                <div id="DecimalLongitud">
                    <label for="LongitudDecimalInput">Longitud</label>
                    <input type="text" id="PSpace-LongitudY" name="LongitudDecimalInput" placeholder="Longitud...">
                </div>
                <!-- Campos adicionales para Grados, Minutos, Segundos -->
                <div id="DMSLatitud" style="display:none;">
                    <label for="LatitudDMSInput">Latitud:</label>
                    <input type="text" id="LatitudGrados" name="LatitudDMSInput" placeholder="Grados">
                    <input type="text" id="LatitudMinutos" name="LatitudDMSInput" placeholder="Minutos">
                    <input type="text" id="LatitudSegundos" name="LatitudDMSInput" placeholder="Segundos">
                </div>
                <div id="DMSLongitud" style="display:none;">
                    <label for="LongitudDMSInput">Longitud:</label>
                    <input type="text" id="LongitudGrados" name="LongitudDMSInput" placeholder="Grados">
                    <input type="text" id="LongitudMinutos" name="LongitudDMSInput" placeholder="Minutos">
                    <input type="text" id="LongitudSegundos" name="LongitudDMSInput" placeholder="Segundos">
                </div>
                <button type="button" id="toggleFormat">Cambiar a Grados, Minutos, Segundos</button>
            </div>

            <!--BOTONES DE CONTROL-->
            <div class="form-group" id ="control-buttons">
                <button type="button" id="regresarTabla" class="cancel-button">Regresar</button>
                <button type="button" id="show-popup" class="register-button">Añadir</button>
            </div>
            <!--SECCIÓN EMERGENTE-->
            <div class ="cuadro-emergente" id="popup-box">
                <div class="contenido-emergente">
                    <h2>Confirmacion</h2>
                    <p>¿Está seguro de querer agregar el registro?</p>
                    <button type="button" id="close-popup" class="cancel-button">Cancelar</button>
                    <button type="submit" id="confirm-action" class="add-button" name="agregar">Agregar</button>
                </div>
            </div>

        </form>
    </main>
    <!-- Para mostrar u ocultar el cuadro emergente -->
    <script src="../assets/js/popUpBox.js"></script>
    <!--COMPORTAMIENTO DEL BOTÓN PARA REGRESAR-->
    <script>
        document.getElementById("regresarTabla").addEventListener("click", function() {
            window.location.href = "tabla.html"; // Redirigir a tabla.html
        });
    </script>
    <!-- Para cargar los datos en la base -->
    <script src="./../assets/js/addPSpace.js"></script>
    <script src="../assets/js/loadPostalInfo.js"></script>
    <script>
        document.getElementById('toggleFormat').addEventListener('click', function() {
        var latInput = document.getElementById('DecimalLatitud');
        var longInput = document.getElementById('DecimalLongitud');
        var dmsLatitud = document.getElementById('DMSLatitud');
        var dmsLongitud = document.getElementById('DMSLongitud');
        var button = document.getElementById('toggleFormat');

        // Verificamos si estamos cambiando a formato DMS
        if (button.textContent.includes('Decimal')) {
            // Cambiar a formato decimal
            latInput.style.display = 'block';
            longInput.style.display = 'block';
            dmsLatitud.style.display = 'none';
            dmsLongitud.style.display = 'none';
            button.textContent = 'Cambiar a Grados, Minutos, Segundos';
        } else {
            // Cambiar a formato grados, minutos, segundos
            latInput.style.display = 'none';
            longInput.style.display = 'none';
            dmsLatitud.style.display = 'block';
            dmsLongitud.style.display = 'block';
            button.textContent = 'Cambiar a Decimal';
        }
    });

    </script>
</body>
</html>
