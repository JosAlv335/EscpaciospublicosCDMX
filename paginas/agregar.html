<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Agregar elemento</title>
    <script>
        (g=>{var h,a,k,p="The Google Maps JavaScript API",c="google",l="importLibrary",q="__ib__",m=document,b=window;b=b[c]||(b[c]={});var d=b.maps||(b.maps={}),r=new Set,e=new URLSearchParams,u=()=>h||(h=new Promise(async(f,n)=>{await (a=m.createElement("script"));e.set("libraries",[...r]+"");for(k in g)e.set(k.replace(/[A-Z]/g,t=>"_"+t[0].toLowerCase()),g[k]);e.set("callback",c+".maps."+q);a.src=`https://maps.${c}apis.com/maps/api/js?`+e;d[q]=f;a.onerror=()=>h=n(Error(p+" could not load."));a.nonce=m.querySelector("script[nonce]")?.nonce||"";m.head.append(a)}));d[l]?console.warn(p+" only loads once. Ignoring:",g):d[l]=(f,...n)=>r.add(f)&&u().then(()=>d[l](f,...n))})({
          key: "AIzaSyAtbwOfTeq0WL_5_WXD5pkSlJSYab5JYm4",
          // Add other bootstrap parameters as needed, using camel case.
          // Use the 'v' parameter to indicate the version to load (alpha, beta, weekly, etc.)
        });
    </script>
    <link href='https://unpkg.com/css.gg@2.0.0/icons/css/search.css' rel='stylesheet'>
    <link rel="stylesheet" href="../assets/css/agregar.css">
    <!--link rel="stylesheet" href="../assets/css/side-menu.css">-->
    <!--link href='https://unpkg.com/css.gg@2.0.0/icons/css/menu.css' rel='stylesheet'>-->
</head>
<body>
    <header>
        <h1>Agregar Registro</h1>
        <!--Menu lateral
    <div class="menu-btn" id="menu-btn">
        <i class="gg-menu"></i>
    </div>
    <div class="side-menu" id="side-menu">
        <a href="" class="sidemenu-item">
            <div>Menu Principal</div>
        </a>
        <a href="" class="sidemenu-item">
            <div>Agregar</div>
        </a>
        <a href="" class="sidemenu-item">
            <div>Eliminar</div>
        </a>
        <a href="" class="sidemenu-item">
            <div>Cerrar Sesión</div>
        </a>
    </div>
-->
    </header>
    
    <main>
        <div id="mensaje"></div> <!-- Para mostrar mensajes de éxito o error -->

        <form id="addForm" enctype="multipart/form-data">
            <div class="form-group" id="CP-Tipo">
                <div class="_CP">
                    <label for="codigoPostal">Código Postal:</label>
                    <input type="text" id="codigoPostal" name="codigoPostal" maxlength="5" required>
                    <button type="button" id="srchCP" name="srchCP"><i class="gg-search"></i>Buscar código postal</button>
                </div>
                <div class="tipo-espacio">
                    <label for="tipo-espacio">Tipo de espacio:</label>
                    <select id="tipo-espacio" name="tipo-espacio" required>
                        <option value="" selected disabled>Selecciona un tipo de espacio...</option>
                        <option value="Parque">Parque</option>
                        <option value="Deportivo">Deportivo</option>
                    </select>
                </div>
                
                
            </div>

            <div class="form-group" id = "estado-municipio">
                
                <div class = "estado">
                    <label for="estado">Estado:</label>
                    <select id="estado" name="estado" required>
                        <option value="" selected disabled>Selecciona un estado</option>
                    </select>
                </div>
                <div class = "municipio">
                    <label for="ciudad_municipio">Ciudad/Municipio:</label>
                    <select id="ciudad_municipio" name="ciudad_municipio" required>
                        <option value="" selected disabled>Selecciona una ciudad/municipio</option>
                    </select>
                </div>

            </div>

            <div class="form-group" id = "asentamiento-calle">

                <div class="asentamiento">
                    <label for="asentamiento">Asentamiento:</label>
                    <select id="asentamiento" name="asentamiento" required>
                        <option value="" selected disabled>Selecciona un asentamiento</option>
                    </select>
                </div>
                <div class="calle">
                    <label for="calle">Calle:</label>
                    <input type="text" id="calle" name="calle" required>
                </div>

            </div>
            <diV class="form-group" id = "entreCalles-Nums">

                <label for="campo-entre-calles">Entre Calles:</label>
                <div class="entre-calles" name="campo-entre-calles">
                    <label for="entCalles1">Calle 1:</label>
                    <input type="text" id="entCalles1" name="entCalles1">
                    <label for="entCalles2">Calle 2:</label>
                    <input type="text" id="entCalles2" name="entCalles2">
                </div>
                <div class="numExt">
                    <label for="numExt">Num. Ext.:</label>
                    <input type="text" id="numExt" name="numExt" value="S/N">
                </div>
                <div class="numInt">
                    <label for="numInt">Num Int.:</label>
                    <input type="text" id="numInt" name="numInt" value="S/N">
                </div>

            </diV>
            <div class="form-group" id="map-srch-btn">
                <button type="button" id="buscarEnMapa">Buscar en el mapa</button>
            </div>
            <div id="map" style="height: 400px; width: 100%;"></div>
            <label for="coordinates">Coordenadas:</label>
            <div class="form-group" id="coordinates" name="coordinates">
                <div id="DecimalLatitud">
                    <label for="LatitudDecimalInput">Latitud</label>
                    <input type="text" id="PSpace-LatitudX" name="LatitudDecimalInput" placeholder="Latitud...">
                </div>
                <div id="DecimalLongitud">
                    <label for="LongitudDecimalInput">Longitud</label>
                    <input type="text" id="PSpace-LongitudY" name="LongitudDecimalInput" placeholder="Longitud...">
                </div>
            </div>

            <div class="form-group">
                <label for="nombre">Nombre:</label>
                <input type="text" id="nombre" name="nombre" required>
            </div>
            <h3>Ingrese los horarios del espacio público (De estar cerrado deje el campo vacío)</h3>
            <div class="form-group" id="horarios">
                
                

            </div>


            
            

            <!--SECCIÓN DE REGISTRO DEL ENCAARGADO-->
            
            <h2>Sección de datos del encargado</h2>
            <div class="form-group" id="manager-section" name="Datos-encargado">

                <!--SECCIÓN DE DATOS PRINCIPALES-->
                <div id="datos-personales" name="datos-personales">

                    <label for="man-nombre1">Primer Nombre...</label>
                    <input type="text" id="man-nombre1" name="man-nombre1" placeholder="Primer nombre...">
                    <label for="man-nombre2">Segundo Nombre:</label>
                    <input type="text" id="man-nombre2" name="man-nombre2" placeholder="Segundo nombre...">
                    <label for="man-apellido1">Primer Apellido:</label>
                    <input type="text" name="man-apellido1" id="man-apellido1" placeholder="Primer Apellido...">
                    <label for="man-apellido2">Segundo Apellido:</label>
                    <input type="text" name="man-apellido2" id="man-apellido2" placeholder="Segundo Apellido...">
                    <label for="sex-select">Sexo:</label>
                    <select name="man-sexo" id="sex-select" required>
                        <option value="" selected disabled>Selecciona un tipo de espacio...</option>
                        <option value="Masculino">Masculino</option>
                        <option value="Femenino">Femenino</option>
                        <option value="Otro">Otro</option>
                    </select>

                    <label for="man-Number">Número de empleado:</label>
                    <input type="text" name="man-Number" id="num-Empleado" placeholder="Número de empleado...">

                    <label for="man-RFC">RFC:</label>
                    <input type="text" name="man-RFC" id="RFC-Empleado" placeholder="RFC...">

                    <label for="man-CURP">CURP:</label>
                    <input type="text" name="man-CURP" id="CURP-Empleado" placeholder="CURP...">

                    <label for="charge-select">Cargo:</label>
                    <select name="man-cargo" id="charge-select">
                        <option value="" selected disabled>Selecciona un tipo de espacio...</option>
                        <option value="Director">Director</option>
                        <option value="Gerente">Gerente</option>
                        <option value="Coordinador">Coordinador</option>
                        <option value="Encargado General">Encargado General</option>
                        <option value="Otro">Otro</option>
                    </select>
                    <label for="man-inicio-actividades">Fecha en que inició actividades:</label>
                    <input type="date" name="man-inicio-actividades" id="man-inicio-actividades">
                    <label for="identificacion-file">Identificación: (Formato PDF, Word, JPG, PNG)</label>
                    <input type="file" id="identificacion-file" name="id-file">
                    <button type="button" id="submit-id-file">Subir archivo</button>


                </div>

                <!--SECCIÓN DE DATOS DE CONTACTO-->
                <div id="datos-contacto" name="datos-contacto">
                    <div class="man-telefonos" id="telefonos">
                        <div class="man-telefonos" id="man-telefonos-0">

                            <label for="tel-0">Teléfono 1:</label>
                            <input type="text" name="telefono" id="tel-0" maxlength="10">
                            <label for="tipo-tel-0">Tipo</label>
                            <select name="tipo-tel" id="tipo-tel-0">
                                <option value="Fijo">Fijo</option>
                                <option value="Movil">Móvil</option>
                            </select>
    
                        </div>
                    </div>
                    
                    <button type="button" id="man-add-tel" class="man-add-tel">+</button>
                    <button type="button" id="man-rem-tel" class="man-rem-tel">-</button>
                    <div>

                    </div>
                    <div class="man-correos" id="correos">
                        <div class="man-correos" id="man-correos-0">

                            <label for="email-0">E-mail 1</label>
                            <input type="email" name="correo" id="email-0">
    
                        </div>
                    </div>
                    
                    <button type="button" id="man-add-email" class="man-add-email">+</button>
                    <button type="button" id="man-rem-email" class="man-rem-email">-</button>

                    <div class="form-group" id="encargado-status">
                        <label for="encargado-status-select">Status del encargado:</label>
                        <select name="encargado-status-select" id="encargado-status-select">
                            <option value="" selected disabled>Selecciona una opción...</option>
                            <option value="Activo">Activo</option>
                            <option value="Inactivo">Inactivo</option>
                            <option value="Fuera de servicio">Fuera de servicio</option>
                            <option value="De vacaciones">De vacaciones</option>
                        </select>
                    </div>

                </div>

            </div>

            <!--BOTONES DE CONTROL-->
            <div class="form-group" id ="control-buttons">
                <button type="button" id="regresarTabla" class="cancel-button">Regresar</button>
                <button type="button" id="show-popup" class="register-button">Añadir</button>
            </div>
            <!--SECCIÓN EMERGENTE-->
            <div class ="cuadro-emergente" id="popup-box">
                <div class="contenido-emergente">
                    <h2>Confirmacion</h2>
                    <p>¿Está seguro de querer agregar el registro?</p>
                    <button type="button" id="close-popup" class="cancel-button">Cancelar</button>
                    <button type="submit" id="confirm-action" class="add-button" name="agregar">Agregar</button>
                </div>
            </div>

        </form>
    </main>
    <!-- Para mostrar u ocultar el cuadro emergente -->
    <script src="../assets/js/popUpBox.js"></script>
    <!--COMPORTAMIENTO DEL BOTÓN PARA REGRESAR-->
    <script>
        document.getElementById("regresarTabla").addEventListener("click", function() {
            window.location.href = "tabla.html"; // Redirigir a tabla.html
        });
    </script>
    <!-- Para cargar los datos en la base -->
    <script src="./../assets/js/addPSpace.js"></script>
    <script src="../assets/js/loadPostalInfo.js"></script>
    <script>

    </script>
    <script src="./../assets/js/uploadFile.js"></script>
    <!--Script para los numeros de telefono y correos-->
    <script>
        // Función para añadir un nuevo número de teléfono

        document.getElementById('man-add-tel').onclick = function(){
            agregarTelefono('telefonos');
        }
        document.getElementById('man-rem-tel').onclick = function(){
            eliminarUltimoTelefono('telefonos');
        }
        document.getElementById('man-add-email').onclick = function(){
            agregarEmail('correos');
        }
        document.getElementById('man-rem-email').onclick = function(){
            eliminarUltimoEmail('correos');
        }

        function agregarTelefono(containerID) {
            const container = document.getElementById(containerID);
            const numTelefonos = container.children.length; // Contar elementos existentes

            const nuevoTelefonoDiv = document.createElement('div');
            nuevoTelefonoDiv.className = "man-telefonos";
            nuevoTelefonoDiv.id = "man-telefonos-" + numTelefonos;

            nuevoTelefonoDiv.innerHTML = `
                <label for="telefono-${numTelefonos}">Teléfono ${numTelefonos + 1}:</label>
                <input type="text" name="telefono" id="tel-${numTelefonos}">
                <label for="tipo-tel-${numTelefonos}">Tipo:</label>
                <select name="tipo-tel" id="tipo-tel-${numTelefonos}">
                    <option value="Fijo">Fijo</option>
                    <option value="Movil">Móvil</option>
                </select>
            `;

            container.appendChild(nuevoTelefonoDiv);
        }

        // Función para eliminar el último teléfono
        function eliminarUltimoTelefono(containerID) {
            const container = document.getElementById(containerID);
            if (container.children.length > 1) { // Aseguramos que siempre haya al menos un elemento
                container.removeChild(container.lastChild);
            }
        }

        // Función para añadir un nuevo correo electrónico
        function agregarEmail(containerID) {
            const container = document.getElementById(containerID);
            const numEmails = container.children.length; // Contar elementos existentes

            const nuevoEmailDiv = document.createElement('div');
            nuevoEmailDiv.className = "man-correos";
            nuevoEmailDiv.id = "man-correos-" + numEmails;

            nuevoEmailDiv.innerHTML = `
                <label for="correo-${numEmails}">E-mail ${numEmails + 1}</label>
                <input type="email" name="correo" id="email-${numEmails}">
            `;

            container.appendChild(nuevoEmailDiv);
        }

        // Función para eliminar el último correo
        function eliminarUltimoEmail(containerID) {
            const container = document.getElementById(containerID);
            if (container.children.length > 1) { // Aseguramos que siempre haya al menos un elemento
                container.removeChild(container.lastChild);
            }
        }

    </script>
    <script src="./../assets/js/addPSpaceMap.js"></script>
    <script src="./../assets/js/side_menu.js"></script>

</body>
</html>
